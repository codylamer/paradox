<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Telegram Web App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/modal-window.css">
</head>

<body class="text-light m-auto" style="background-color: rgb(44, 41, 41); width: 95%;">
  <nav class="navbar navbar-light mx">
    <div class="container-fluid justify-content-center">
      <img src="../images/main/logo.PNG" width="200px" alt="">
    </div>
  </nav>

  <h1 class="mb-2 mt-3" style="font-size: 40px;">Minecraft</h1>
  <div class="links mb-4">
    <a href="#licenses" type="button" class="btn rounded-pill text-light bg-dark p-3">Лицензия</a>
    <a href="#minecoins" type="button" class="btn rounded-pill text-light bg-dark p-3">Minecoin</a>
  </div>

  <h3 class="mb-3 mt-3" id="licenses">Лицензия</h3>
  <div class="row licenses ps-1">

  </div>

  <h3 class="mb-3 mt-3" id="minecoins">Minecoin</h3>
  <div class="row minecoins ps-1">

  </div>

  <!-- Modal window -->
  <div id="bottomModal" class="bottom-modal" onclick="closeModal()">
    <div class="modal-content ">
      <img id="modalImg" class="modal-img">
      <p id="modalPrice" class="text-start card-title fs-3"></p>
      <h2 id="modalTitle" class="text-start"></h2>
      <br>
      <p class="text-start card-title fs-3 fs-bold">Описание</p>
      <pre id="descriptions" class="text-start ps-2"></pre>
      <button class="btn btn-success w-100" onclick="sendData()">Купить</button>
    </div>
  </div>

  <script src="../js/modal-window.js"></script>
  <script src="../js/append-card.js"></script>
  <script>
    const minecoins = [320, 1020, 1720, 3500, 8800];
    let price = [150, 400, 650, 1250, 2400];
    let i = 0;
    minecoins.forEach(() => {
      appendCard(`../images/games/minecraft/minecoins/${minecoins[i]}.jpeg`, price[i], `${minecoins[i]} Кристаллов`, ["minecoins"]);
      i += 1;
    });

    const name = ["License"];
    const imageName = ["license"];
    price = [1600];
    i = 0;
    name.forEach(() => {
      appendCard(`../images/games/minecraft/licenses/${imageName[i]}.jpeg`, price[i], name[i], ["licenses"]);
      i += 1;
    });

    [...document.querySelector(".minecoins").querySelectorAll(".card")].forEach(function (card) {
      card.addEventListener('click', function (event) {
        showModal(card, "❇️ Быстрое выполнение заказа\n❇️ Покупка Осуществляется для Bedrock версии\n❇️ От вас потребуется только почта и пароль Xbox Live");
      });
    });

    [...document.querySelector(".licenses").querySelectorAll(".card")].forEach(function (card) {
      card.addEventListener('click', function (event) {
        showModal(card, "❇️ Быстрое выполнение заказа\n❇️ Покупка Версии для ПК (Java+Bedrock)\n❇️ От вас потребуется только почта и пароль Xbox Live");
      });
    });

    function sendData() {
      alert(JSON.stringify(modalData));
    }
  </script>
</body>